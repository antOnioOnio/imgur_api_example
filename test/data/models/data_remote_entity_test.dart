import 'package:flutter_test/flutter_test.dart';
import 'package:igmur_images_example/data/models/remote_entities/data_remote_entity.dart';

void main() {
  group('DataRemoteEntity', () {
    test('should deserialize correctly from JSON', () {
      final json = {
        'id': 'Tr90nhz',
        'title': 'cats crochet',
        'description': null,
        'datetime': 1729084996,
        'cover': '9ZWWZW2',
        'cover_width': 1152,
        'cover_height': 2048,
        'account_url': 'sayleellennaj',
        'account_id': 160927237,
        'privacy': 'hidden',
        'layout': 'blog',
        'views': 336,
        'link': 'https://imgur.com/a/Tr90nhz',
        'ups': 3,
        'downs': 2,
        'points': 1,
        'score': 1,
        'is_album': true,
        'vote': null,
        'favorite': true,
        'nsfw': false,
        'section': '',
        'comment_count': 0,
        'favorite_count': 0,
        'topic': null,
        'topic_id': null,
        'images_count': 50,
        'in_gallery': true,
        'is_ad': false,
        'tags': [],
        'ad_type': 0,
        'ad_url': '',
        'in_most_viral': false,
        'include_album_ads': false,
        'images': [
          {
            'id': '9ZWWZW2',
            'title': null,
            'description': null,
            'datetime': 1729084475,
            'type': 'image/jpeg',
            'animated': false,
            'width': 1152,
            'height': 2048,
            'size': 209184,
            'views': 431,
            'bandwidth': 90158304,
            'vote': null,
            'favorite': false,
            'nsfw': null,
            'section': null,
            'account_url': null,
            'account_id': null,
            'is_ad': false,
            'in_most_viral': false,
            'has_sound': false,
            'tags': [],
            'ad_type': 0,
            'ad_url': '',
            'edited': '0',
            'in_gallery': false,
            'link': 'https://i.imgur.com/9ZWWZW2.jpg',
            'comment_count': null,
            'favorite_count': null,
            'ups': null,
            'downs': null,
            'points': null,
            'score': null,
          },
          {
            'id': 'ssnGt7H',
            'title': null,
            'description': null,
            'datetime': 1729084475,
            'type': 'image/jpeg',
            'animated': false,
            'width': 1152,
            'height': 2048,
            'size': 201825,
            'views': 361,
            'bandwidth': 72858825,
            'vote': null,
            'favorite': false,
            'nsfw': null,
            'section': null,
            'account_url': null,
            'account_id': null,
            'is_ad': false,
            'in_most_viral': false,
            'has_sound': false,
            'tags': [],
            'ad_type': 0,
            'ad_url': '',
            'edited': '0',
            'in_gallery': false,
            'link': 'https://i.imgur.com/ssnGt7H.jpg',
            'comment_count': null,
            'favorite_count': null,
            'ups': null,
            'downs': null,
            'points': null,
            'score': null,
          },
          {
            'id': 'yDBJbA0',
            'title': null,
            'description': null,
            'datetime': 1729084474,
            'type': 'image/jpeg',
            'animated': false,
            'width': 1152,
            'height': 2048,
            'size': 184242,
            'views': 141,
            'bandwidth': 25978122,
            'vote': null,
            'favorite': false,
            'nsfw': null,
            'section': null,
            'account_url': null,
            'account_id': null,
            'is_ad': false,
            'in_most_viral': false,
            'has_sound': false,
            'tags': [],
            'ad_type': 0,
            'ad_url': '',
            'edited': '0',
            'in_gallery': false,
            'link': 'https://i.imgur.com/yDBJbA0.jpg',
            'comment_count': null,
            'favorite_count': null,
            'ups': null,
            'downs': null,
            'points': null,
            'score': null,
          },
        ],
        'ad_config': {
          'safeFlags': ['album', 'in_gallery'],
          'highRiskFlags': [],
          'unsafeFlags': ['under_10'],
          'wallUnsafeFlags': [],
          'showsAds': false,
          'showAdLevel': 1,
          'safe_flags': ['album', 'in_gallery'],
          'high_risk_flags': [],
          'unsafe_flags': ['under_10'],
          'wall_unsafe_flags': [],
          'show_ads': false,
          'show_ad_level': 1,
          'nsfw_score': 0.2,
        },
      };

      final dataRemoteEntity = DataRemoteEntity.fromJson(json);

      expect(dataRemoteEntity.ups, 3);
      expect(dataRemoteEntity.downs, 2);
    });
  });
}
